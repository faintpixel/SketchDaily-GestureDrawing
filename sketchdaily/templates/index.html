{% load i18n %}

{% get_current_language as LANGUAGE_CODE %}
<!-- Current language: {{ LANGUAGE_CODE }} -->
<!DOCTYPE html>
<html>
<head>
    <title>{% trans "SketchDaily Gesture/Figure Drawing" %}</title>
    <link href="/static/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel="stylesheet" type="text/css" href="/static/style.css" />
    <link rel="stylesheet" type="text/css" href="/static/style-{{ LANGUAGE_CODE }}.css" />
</head>
<body id="mainPageBody">
<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <a class="brand" href="#">{% trans "r/SketchDaily References" %}</a>
            <div id="languageContainer">
                <select id="languageSelector">
                    {% for language in languageOptions %}
                        <option value="{{ language.code }}">{{ language.name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>
    </div>
</div>
    <div id="homediv" class="container">
        <div class="row">
            <div class="span7">
                 <h1>{% trans "Hello!" %}</h1>
                <h3>{% trans "Welcome to the SketchDaily reference doohickey." %}</h3>
                <h4>{% trans "Looking for something else to draw?" %} <a href="http://www.reddit.com/r/sketchdaily/">{% trans "Join the fun!" %}</a></h4>
                <h4><a href="help">{% trans "Want to help make this site better?" %}</a></h4>
                <div id="news">
                    <h1>{% trans "What's New" %}</h1>
                    <b>{% trans "May 9 2015" %}</b>
                    <ul>
                        <li>{% blocktrans %}Added new languages for the site. <a href="mailto:artomizer@sketchdaily.net">Please let us know</a> if anything isn't working right or if translations are incorrect.{% endblocktrans %}</li>
                    </ul>
                    <b>{% trans "May 22 2014" %}</b>
                    <ul>
                        <li>{% trans "Fixed a bug which was causing issues with the 'only recent images' option." %}</li>
                        <li>{% blocktrans %}We recently got permission to use several new batches of images, so expect to see some of those popping up soon.{% endblocktrans %}</li>
                    </ul>
                    <b>{% trans "May 12 2014" %}</b>
                    <ul>
                        <li>{% blocktrans %}Sorry for the downtime! We've moved to a new host, which should fix some problems we've had lately, as well as run faster. The site might be up and down for a few more days while we iron out some more kinks.{% endblocktrans %}</li>
                    </ul>
                    <b>{% trans "November 17 2013" %}</b>
                    <ul>
                        <li>{% trans "Added an option to only use the most recent images for the full body section." %}</li>
                    </ul>
                    <a href="history">{% trans "View change history" %}</a>
                </div>
            </div>
        <div class="span4 well">
        <ul class="nav nav-tabs" id="myTab">
            <li class="active"><a href="#fullBody" data-toggle="tab">{% trans "Full Body" %}</a></li>
            <li><a href="#bodyParts" data-toggle="tab">{% trans "Body Parts" %}</a></li>
            <li><a href="#animals" data-toggle="tab">{% trans "Animals" %}</a></li>
        </ul>

        <div class="tab-content">
            <div class="tab-pane active" id="fullBody">
                <form action="/{{ LANGUAGE_CODE }}/startSession" method="get">
                    {% trans "Gender" %}:<br/>
                    <select name="gender">
                        <option value="">{% trans "Both" %}</option>
                        <option value="1">{% trans "Male" %}</option>
                        <option value="2">{% trans "Female" %}</option>
                    </select>
                    <br/>

                    {% trans "Clothing" %}:<br/>
                    <select id="clothing" name="clothing">
                        <option value="">{% trans "Both" %}</option>
                        <option value="1">{% trans "Clothed" %}</option>
                        <option value="2">{% trans "Nude" %}</option>
                    </select>
                    <br/>
                    <div id="showNSFWdiv" class="hidden">
                        <input type="checkbox" id="showNSFW" name="showNSFW" value="1"> {% trans "Include NSFW images" %}
                    </div>
                    <br/>
                    {% trans "Pose" %}:<br/>
                    <select name="pose">
                        <option value="">{% trans "Both" %}</option>
                        <option value="1">{% trans "Action" %}</option>
                        <option value="2">{% trans "Stationary" %}</option>
                    </select>
                    <br/>

                    {% trans "View" %}:<br/>
                    <select name="view">
                        <option value="">{% trans "All" %}</option>
                        <option value="1">{% trans "Front" %}</option>
                        <option value="2">{% trans "Side" %}</option>
                        <option value="3">{% trans "Back" %}</option>
                    </select>
                    <br/>

                    {% trans "Time" %}:<br/>
                    <select name="time" id="time">
                        <option value="0:30">{% trans "30 seconds" %}</option>
                        <option value="1:00">{% trans "1 minute" %}</option>
                        <option value="2:00">{% trans "2 minutes" %}</option>
                        <option value="5:00">{% trans "5 minutes" %}</option>
                        <option value="10:00">{% trans "10 minutes" %}</option>
                    </select>
                    <br/>

                    <input type="checkbox" id="onlyRecentImages" name="onlyRecentImages" value="1"> {% trans "Only use most recent images" %}
                    <br/><br/>

                    <input type="hidden" name="imageType" value="fullBodies"/>
                    <button class="btn btn-primary btn-block" type="submit">{% trans "Start" %}</button>
                </form>
            </div>







            <div class="tab-pane" id="bodyParts">
                <form action="/{{ LANGUAGE_CODE }}/startSession" method="get">
                    {% trans "Part" %}:<br/>
                    <select name="bodyPart">
                        <option value="">{% trans "All" %}</option>
                        <option value="1">{% trans "Hands" %}</option>
                        <!--<option value="2">Feet</option>-->
                        <option value="3">{% trans "Heads" %}</option>
                    </select>
                    <br/>

                    {% trans "Gender" %}:<br/>
                    <select name="gender">
                        <option value="">{% trans "Both" %}</option>
                        <option value="1">{% trans "Male" %}</option>
                        <option value="2">{% trans "Female" %}</option>
                    </select>
                   <br/>

                    View:<br/>
                    <select name="view">
                        <option value="">{% trans "All" %}</option>
                        <option value="1">{% trans "Front" %}</option>
                        <option value="2">{% trans "Side" %}</option>
                        <option value="3">{% trans "Back" %}</option>

                    </select>

                    <br/>

                    {% trans "Time" %}:<br/>
                    <select name="time" id="time">
                        <option value="0:30">{% trans "30 seconds" %}</option>
                        <option value="1:00">{% trans "1 minute" %}</option>
                        <option value="2:00">{% trans "2 minutes" %}</option>
                        <option value="5:00">{% trans "5 minutes" %}</option>
                        <option value="10:00">{% trans "10 minutes" %}</option>
                    </select>
                    <br/><br/>

                    <!--

                    <label class="checkbox">
                        <input type="checkbox" value="">
                        Group drawing session
                    </label>
                    <br/><br/> -->

                    <input type="hidden" name="imageType" value="bodyParts"/>
                    <button class="btn btn-primary btn-block" type="submit">{% trans "Start" %}</button>

                    <br/><br/>
                    {% trans "NOTE: There aren't many images here yet. Other body parts coming soon(ish)." %}
                </form>
            </div>






            <div class="tab-pane" id="animals">
                <form action="/{{ LANGUAGE_CODE }}/startSession" method="get">
                    <label>{% trans "Type" %}:</label>
                    <select name="species">
                        <option value="">{% trans "All" %}</option>
                        <option value="1">{% trans "Bird" %}</option>
                        <option value="2">{% trans "Fish" %}</option>
                        <option value="3">{% trans "Reptile/Amphibian" %}</option>
                        <option value="4">{% trans "Bug" %}</option>
                        <option value="5">{% trans "Mammal" %}</option>
                    </select>

                    <br/>

                    <label>{% trans "Category" %}:</label>
                    <select name="category">
                        <option value="">{% trans "All" %}</option>
                        <option value="1">{% trans "Live" %}</option>
                        <option value="2">{% trans "Skeletons & Bones" %}</option>
                    </select>

                    <br/>

                    <label>{% trans "View" %}:</label>
                    <select name="view">
                        <option value="">{% trans "All" %}</option>
                        <option value="1">{% trans "Front" %}</option>
                        <option value="2">{% trans "Side" %}</option>
                        <option value="3">{% trans "Back" %}</option>
                        <option value="4">{% trans "Above/Below" %}</option>
                    </select>

                    <br/>

                    <label>{% trans "Time" %}:</label>
                    <select name="time" id="time">
                        <option value="0:30">{% trans "30 seconds" %}</option>
                        <option value="1:00">{% trans "1 minute" %}</option>
                        <option value="2:00">{% trans "2 minutes" %}</option>
                        <option value="5:00">{% trans "5 minutes" %}</option>
                        <option value="10:00">{% trans "10 minutes" %}</option>
                    </select>
                    <br/><br/>

                    <!--
                    <label class="checkbox">
                        <input type="checkbox" value="">
                        Group drawing session
                    </label>
                    <br/><br/> -->

                    <input type="hidden" name="imageType" value="animals"/>
                    <button class="btn btn-primary btn-block" type="submit">{% trans "Start" %}</button>
                </form>

            </div>
        </div>
            <div>{% trans "Number of Images" %}: <img src="/static/ajaxLoading.gif" id="loadingImage" class="hidden"/><span id="count"></span></div>
            <div id="contactUs">{% blocktrans %}<a href="mailto:artomizer@sketchdaily.net">Contact us</a> to report issues, suggest improvements or find out how you can help!{% endblocktrans %}</div>
        </div> <!-- span4 -->
        </div> <!-- row -->
    </div>

    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="/static/bootstrap/js/bootstrap.min.js"></script>
</body>
</html>

<script type="text/javascript">

    $(document).ready(function(){
        var currentLanguage = "{{ LANGUAGE_CODE }}";
        $("#languageSelector").val(currentLanguage);
        $("#languageSelector").change(function() {
            var language = $("#languageSelector").val();
            window.location.href = "/" + language;
        });

        ShowOrHideNSFWDiv();
        $('#clothing').change(function() {
            ShowOrHideNSFWDiv();
        });

        updateImageCount();
        $("select").change(function(){
            updateImageCount();
        });
        $("input[type='checkbox']").change(function(){
            updateImageCount();
        });
        $('a[data-toggle="tab"]').on('shown', function (e) {
            updateImageCount();
        });
    });

    function updateImageCount(){
        $("#loadingImage").show();
        $("#count").text("");
        $.getJSON(
                '/json/getReferenceCount/',
                $('div.active form').serialize(),
                function(json) {
                    var result = json.count;
                    $("#count").text(result);
                }
        ).fail(function() { $("#count").text("Unknown"); })
         .always(function() { $("#loadingImage").hide(); });
    }

    function ShowOrHideNSFWDiv() {
        var clothingValue = $("#clothing").val();
        if(clothingValue == "1")
            $("#showNSFWdiv").removeClass("hidden");
        else
            $("#showNSFWdiv").addClass("hidden");
    }
</script>

<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-40311949-1', 'sketchdaily.net');
    ga('send', 'pageview');

</script>
